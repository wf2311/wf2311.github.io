extends base

block title
  title= page.title + ' | ' + config.title

block content
  .post
    include _partial/title_icon
    h1.post-title(id="article-title")= page.title + ' '
    .post-meta
      if theme.comment
        include _partial/comment_count
        +comment-count(page.path)
      p
        span.date= page.date.format(theme.date_formats.post)
        if page.categories.length > 0
          span
            for category in page.categories.toArray()
              a.category(href=url_for(category.path))= category.name 
        if theme.busuanzi == true
          span
            i#busuanzi_container_page_pv
              i#busuanzi_value_page_pv
              i= '' + __('hits')
        if page.author
          span(class="fa fa-user")  #{page.author}
        else
          span(class="fa fa-user") #{theme.author}
        span()  共#{wordcount(page.content)}字，阅读约需#{min2read(page.content)}分钟

    div.post-content(id="post-content")
      if page.type == 3
        include _partial/reprint
      include _partial/music
      != page.content
    include _partial/tag
    
    include _partial/reward
    
    include _partial/copyright
    
    .post-share
      //include _partial/save_img
      include _partial/share
    include _partial/post_nav
    div(id="comments")
      include _partial/comments

block tocmodel
  if theme.toc.enable == true 
    .widget(id='toc')
      .widget-title
        i(class='fa fa-bars')= ' ' + __('contents')
        a(title="点击展开或隐藏分类", href="javascript:void(0)",onclick="showOrHide('toc', 'toc-expand', 'none')")
          span(id='toc-expand', style='font-size:12px;color:red')=' 点击收起 '
      != toc(page.content, {list_number: theme.toc.number})

block pageOnly
  if theme.toc.enable == true 
    script(type='text/javascript', src=url_for(theme.js) + '/toctotop.js' + '?t=' + moment(), async)
  else 
    script(type='text/javascript', src=url_for(theme.js) + '/totop.js' + '?t=' + moment(), async)
  include _partial/comments_js